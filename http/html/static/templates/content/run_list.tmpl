{{ template "layout" . }}

{{ define "title" }}Runs{{ end }}

{{ define "container-header" }}
  <a href="{{ listWorkspacePath .Content }}">workspaces</a>
  /
  <a href="{{ getWorkspacePath .Content }}">{{ .Content.WorkspaceName }}</a>
  /
  runs
{{ end }}

{{ define "container-header-links" }}
  {{ template "workspace-header-links" . }}
{{ end }}

{{ define "content" }}
  {{ template "content-list" . }}
{{ end }}

{{ define "content-list-item" }}
  <div class="item-heading">
    <span class="status status-{{ .Status }}">
      <a href="{{ getRunPath . }}">{{ .Status.String | replace "_" " "}}</a>
    </span>
    <span>|</span>
    <span><a href="{{ getPlanPath . }}">plan</a></span>
    {{ if not .PlanOnly }}
      <span>|</span>
      <span><a href="{{ getApplyPath . }}">apply</a></span>
    {{ end }}
    <span class="status-ago">{{ durationRound .CreatedAt }} ago</span>
  </div>
  {{ template "identifier" . }}
{{ end }}
